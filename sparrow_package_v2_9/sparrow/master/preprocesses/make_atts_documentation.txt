U.S. Geological Survey

SPARROW Surface Water-Quality Model Software (Version 2.1)

Documentation for MAKE_ATTS.EXE
Programmed by R.B. Alexander
December 20, 2002
Revised:  September 10, 2003


PURPOSE:
The program creates the attribute variables HYDSEQ and DEMTAREA, which
are output to two separate data files, for use in version 2.0 of the 
SPARROW model.

The output file HYDSEQ.DAT contains hydrologically ordered (from upstream 
to downstream) river reach records for use in computing total drainage 
areas and summing contaminant mass in the SPARROW model.

The output file TAREA.DAT contains values of the total drainage area 
(DEMTAREA) for the watershed above the outlet of each river reach.

The optional output file REACHSTA.DAT contains the monitoring station ID
of the nearest downstream monitoring station--can be used to identify
the reaches and drainage area between monitoring sites.


DATA REQUIREMENTS:
The river reach file must be topologically correct (full connectivity) 
and contain a from-node (FNODE) and to-node (TNODE) number for every 
reach in the domain.  Flow direction is FROM-TO.  The maximum limits of
the program are 600,000 reach segments.  The program can handle up to 
a maximum of four tributary reaches converging on a single reach node 
and can handle a maximum of two diverging reaches.  The values of reach
and to- and from-node numbers (WATERID, FNODE, TNODE) must not exceed
600,000.

In computing the total reach drainage area, the fractional diversion 
(FRAC) assumes braided channels for values less than 1.0  (i.e., the 
total drainage area of the upstream reach is multiplied by FRAC in 
computing the total area of the downstream reach).

The user may select to have the program identify headwater reaches.  
Headwater reaches (HEADFLAG=1) are identified as those reaches where 
the FROM node has no matching TO node.


FILE STRUCTURE AND CONTENTS:

INPUT FILE (REACH.DAT; free-format with each variable separated by a blank)
    WATERID - unique identification number for the reach
    FNODE - reach from-node (upstream node)
    TNODE - reach to-node (downstream node)
    DEMIAREA - incremental drainage area of the reach catchment
    FRAC - Water diversion fraction indicating the fractional share 
           of the water received from the upstream reach 
    STAID - Unique monitoring station identification number associated 
             with the reach (set to zero if the reach contains no 
             monitoring station; maximum of 6 digits allowed)
    HEADFLAG - optional headwater reach flag (0=non-headwater reach; 
               1=headwater reach) -- A value should NOT be included in
               the file if the user wants the program to automatically
               identify headwater reaches

OUTPUT FILE (HYDSEQ.DAT)
    HYDSEQ - Hydrologic sequence code indicating the downstream order 
             of the river reach
    WATERID - unique identification number for the reach
    FNODE - reach from-node (upstream node)
    TNODE - reach to-node (downstream node)
    DEMIAREA - incremental drainage area of the reach catchment
    FRAC - Water diversion fraction indicating the fractional share 
           of the water received from the upstream reach 
    HEADFLAG - headwater reach flag (0=non-headwater reach; 
               1=headwater reach)

OUTPUT FILE (NOHYDSEQ.DAT)
    WATERID - unique identification number for reaches not assigned a
              HYDSEQ number.  These may reflect non-connected or
              improperly flipped reaches.

OUTPUT FILE (TAREA.DAT)
    WATERID - unique identification number for the reach
    DEMTAREA - total drainage area of the watershed above the reach outlet


OPTIONAL OUTPUT FILE (REACHSTA.DAT)
    WATERID - unique identification number for the reach
    STATID - Unique monitoring station identification number of the
             nearest downstream station
