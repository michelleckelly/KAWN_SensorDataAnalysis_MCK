knitr::opts_chunk$set(fig.height = 8, fig.width = 10,
cache=TRUE, # enable caching globally
echo = TRUE) # all code will print to screen
library("XML")
library(lubridate)
library(ggplot2)
library(gridExtra)
library(grid)
library(dataRetrieval) # USGS
library(wesanderson) # pallets
#library(devtools)
#install_github("NEONScience/NEON-utilities/neonUtilities", dependencies = TRUE)
library(neonUtilities)
# Function name:
# Nitratax_XMLtoCSV
# Function description:
# Convert output format from Nitratax sensor (.xml) into .csv file
# Input variable definitions:
# filename = .xml file to be converted, character  string
# sensor = character string of sensor name, will be outputted in .csv file name
# deployDate = start date of sensor operation, YYYY-MM-DD character string
# Outputs:
# .csv file titled "KansasR_Nitratax_<sensor>.csv"
Nitratax_XMLtoCSV <- function(filename, sensor, deployDate){
xmlData <- XML::xmlParse(file = filename)
xmlData <- XML::xmlToDataFrame(xmlData, homogeneous = F, stringsAsFactors = F)
xmlData <- xmlData[-(1:6),] # taking out text at top of dataframe
for (count in 1:length(xmlData)){
names(xmlData)[count] <- as.character(xmlData[1,count])
}
xmlData <- xmlData[-1,] # taking out character rows
xmlData <- xmlData[,-1] # taking out first blank column
xmlData$`  TIME  ` <- lubridate::as_datetime(xmlData$`  TIME  `, tz = "America/Chicago", format = "%m/%d/%Y %H:%M:%S")
xmlData$`  NITRATE CONC.  ` <- as.numeric(xmlData$`  NITRATE CONC.  `)
xmlData$`  ER  ` <- as.numeric(xmlData$`  ER  `)
xmlData$`  EM  ` <- as.numeric(xmlData$`  EM  `)
xml_trunkated <- xmlData[xmlData$`  TIME  `>ymd(deployDate),]
xml_trunkated <- data.frame(xml_trunkated$`  TIME  `, xml_trunkated$`  NITRATE CONC.  `)
names(xml_trunkated) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
CSV_filename <- paste("KansasR_Nitratax_", sensor, ".csv", sep = "")
write.table(xml_trunkated,
file = CSV_filename,
sep = ",", row.names = FALSE)
return(xml_trunkated)
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "~/KAWN_RawDataFiles/KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "~/KAWN_RawDataFiles/KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "~/KAWN_RawDataFiles/KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "~/KAWN_RawDataFiles/NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "~/KAWN_RawDataFiles/NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "~/KAWN_RawDataFiles/NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
knitr::opts_chunk$set(fig.height = 8, fig.width = 10,
cache=TRUE, # enable caching globally
echo = TRUE) # all code will print to screen
library("XML")
library(lubridate)
library(ggplot2)
library(gridExtra)
library(grid)
library(dataRetrieval) # USGS
library(wesanderson) # pallets
#library(devtools)
#install_github("NEONScience/NEON-utilities/neonUtilities", dependencies = TRUE)
library(neonUtilities)
setwd("~/KAWN_RawDataFiles/")
knitr::opts_chunk$set(fig.height = 8, fig.width = 10,
cache=TRUE, # enable caching globally
echo = TRUE) # all code will print to screen
library("XML")
library(lubridate)
library(ggplot2)
library(gridExtra)
library(grid)
library(dataRetrieval) # USGS
library(wesanderson) # pallets
#library(devtools)
#install_github("NEONScience/NEON-utilities/neonUtilities", dependencies = TRUE)
library(neonUtilities)
# Function name:
# Nitratax_XMLtoCSV
# Function description:
# Convert output format from Nitratax sensor (.xml) into .csv file
# Input variable definitions:
# filename = .xml file to be converted, character  string
# sensor = character string of sensor name, will be outputted in .csv file name
# deployDate = start date of sensor operation, YYYY-MM-DD character string
# Outputs:
# .csv file titled "KansasR_Nitratax_<sensor>.csv"
Nitratax_XMLtoCSV <- function(filename, sensor, deployDate){
xmlData <- XML::xmlParse(file = filename)
xmlData <- XML::xmlToDataFrame(xmlData, homogeneous = F, stringsAsFactors = F)
xmlData <- xmlData[-(1:6),] # taking out text at top of dataframe
for (count in 1:length(xmlData)){
names(xmlData)[count] <- as.character(xmlData[1,count])
}
xmlData <- xmlData[-1,] # taking out character rows
xmlData <- xmlData[,-1] # taking out first blank column
xmlData$`  TIME  ` <- lubridate::as_datetime(xmlData$`  TIME  `, tz = "America/Chicago", format = "%m/%d/%Y %H:%M:%S")
xmlData$`  NITRATE CONC.  ` <- as.numeric(xmlData$`  NITRATE CONC.  `)
xmlData$`  ER  ` <- as.numeric(xmlData$`  ER  `)
xmlData$`  EM  ` <- as.numeric(xmlData$`  EM  `)
xml_trunkated <- xmlData[xmlData$`  TIME  `>ymd(deployDate),]
xml_trunkated <- data.frame(xml_trunkated$`  TIME  `, xml_trunkated$`  NITRATE CONC.  `)
names(xml_trunkated) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
CSV_filename <- paste("KansasR_Nitratax_", sensor, ".csv", sep = "")
write.table(xml_trunkated,
file = CSV_filename,
sep = ",", row.names = FALSE)
return(xml_trunkated)
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- FALSE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Variable descriptions:
# loadfromCSV = logical vector, if TRUE data will be loaded from .csv files
# if FALSE data will be converted from .xml to .csv
# (computationally much faster to load from .csv)
# bowersock_N = Nitratax sensor located at the bowersock dam upstream of waste release
# eric_N = Nitratax sensor located at the waste release point
# steve_N = Nitratax sensor located about ~5 miles downstream of bowersock
loadfromCSV <- TRUE
if (loadfromCSV == TRUE){
bowersock_N <- read.csv(
file = "KansasR_Nitratax_Bowersock.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
eric_N <- read.csv(
file = "KansasR_Nitratax_Eric.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
steve_N <- read.csv(
file = "KansasR_Nitratax_Steve.csv",
header = TRUE,
colClasses = c("POSIXct", "numeric"))
names(bowersock_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(eric_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
names(steve_N) <- c("Date and time", "Nitrate plus nitrite as mg-N/L")
cat("data loaded from .csv file")
}
if (loadfromCSV == FALSE) {
bowersock_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Bowersock_Pulled04-13-2018.xml",
sensor = "Bowersock",
deployDate = "2018-01-13")
eric_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Eric_Pulled04-13-2018.xml",
sensor = "Eric",
deployDate = "2018-02-19")
steve_N <- Nitratax_XMLtoCSV(filename = "NITRATAX_Steve_Pulled04-20-2018.xml",
sensor = "Steve",
deployDate = "2018-01-31")
cat("data loaded from .xml file")
}
# Eric sensor was buried under sediment from 05-Mar to 15-Mar, setting these measurements to NA
dateSedimentStartEric <- lubridate::as_datetime("2018-03-05 11:00:00")
dateSedimentEndEric <- lubridate::as_datetime("2018-03-15 00:00:00")
eric_N$`Nitrate plus nitrite as mg-N/L`[eric_N$`Date and time` >= dateSedimentStartEric &
eric_N$`Date and time` <= dateSedimentEndEric] <- NA
# Setting Steve to NA for all measurements of "0", due to sediment issues
steve_N$`Nitrate plus nitrite as mg-N/L`[steve_N$`Nitrate plus nitrite as mg-N/L` <= 0] <- NA
# Setting Steve to NA during time period of sediment burial
dateSedimentStartSteve <- lubridate::as_datetime("2018-03-12 15:00:00")
dateSedimentEndSteve <- lubridate::as_datetime("2018-03-27 11:30:00")
steve_N$`Nitrate plus nitrite as mg-N/L`[steve_N$`Date and time`>=dateSedimentStartSteve &
steve_N$`Date and time`<=dateSedimentEndSteve] <- NA
View(bowersock_N)
# Output cleaned data to csv
write.csv(x = bowersock_N, file = "KansasR_Nitratax_Bowersock.csv")
# Output cleaned data to csv
write.csv(x = bowersock_N, file = "KansasR_Nitratax_Bowersock.csv", row.names = FALSE)
# Output cleaned data to csv
write.csv(x = bowersock_N, file = "KansasR_Nitratax_Bowersock.csv", row.names = FALSE)
write.csv(x = eric_N, file = "KansasR_Nitratax_Eric.csv", row.names = FALSE)
write.csv(x = steve_N, file = "KansasR_Nitratax_Steve.csv", row.names = FALSE)
